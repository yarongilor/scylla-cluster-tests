test_duration: 360
#prepare_write_cmd:
#  - >-
#    bin/ycsb load dynamodb -P workloads/workloadc -threads 80 -p recordcount=6990500
#    -p fieldcount=10 -p fieldlength=512 -p dataintegrity=false
#    -p insertstart=0 -p insertcount=3495250 -p dynamodb.ttlKey=ttl -p dynamodb.ttlDuration=5
#
#  - >-
#    bin/ycsb load dynamodb -P workloads/workloadc -threads 80 -p recordcount=6990500
#    -p fieldcount=10 -p fieldlength=512 -p dataintegrity=false
#    -p insertstart=0 -p insertcount=3495250 -p table=usertable_no_lwt -p dynamodb.ttlKey=ttl -p dynamodb.ttlDuration=5

stress_cmd: [
  # with lwt table
  "bin/ycsb run dynamodb -P workloads/workloadc -threads 20 -p readproportion=0.5 -p updateproportion=0.5 -p recordcount=6990500 -p fieldcount=10 -p fieldlength=512 -p operationcount=200200300 -p dataintegrity=false -p maxexecutiontime=10800  -p dynamodb.ttlKey=ttl -p dynamodb.ttlDuration=5",
  # no lwt table
  "bin/ycsb run dynamodb -P workloads/workloadc -threads 20 -p readproportion=0.5 -p updateproportion=0.5 -p recordcount=6990500 -p fieldcount=10 -p fieldlength=512 -p operationcount=200200300 -p dataintegrity=false -p table=usertable_no_lwt -p maxexecutiontime=10800  -p dynamodb.ttlKey=ttl -p dynamodb.ttlDuration=5",
]

round_robin: true

n_loaders: 1
instance_type_db: 'i3.xlarge'
n_monitor_nodes: 0
n_db_nodes: 3

nemesis_class_name: 'SisyphusMonkey'
nemesis_seed: '005'
nemesis_interval: 5
nemesis_during_prepare: false

user_prefix: 'alternator-3h-ttl'
space_node_threshold: 6442

alternator_port: 8080
dynamodb_primarykey_type: HASH_AND_RANGE
alternator_use_dns_routing: true

# Set Alternator TTL parameters
# ---------------------------------------------
# TTL mode is experimental in version 5.1.
# Enable TTL feature in Scylla.
# Set 'alternator_ttl_period_in_seconds' to 5 minutes for the TTL scan interval.
experimental: true
append_scylla_yaml: |
  experimental_features:
    - alternator-ttl
  alternator_ttl_period_in_seconds: 300
